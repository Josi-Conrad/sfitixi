{# src/Tixi/SecurityBundle/Resources/views/Security/login.html.twig #}
{# 26.08.2013 martin jonasse initial file, credit the book - chapter 13 - security #}
{# 07.10.2013 martin jonasse simplified design and presentation #}

{% extends 'TixiHomeBundle:Default:index.html.twig' %}

{% block title %}{{ app.session.get('title') }}{% endblock %}

{# {% block frame %}{%  endblock %} #}
{% block menubar %}{%  endblock %}
{% block subject %}{% endblock %}
{% block taskbar %}{% endblock %}

{% block content %}
    <div class="login">
        <section>
            <h3 style="text-align:center">Anmelden an die iTixi Wolke</h3>
            <form action="{{ path('login_check') }}" method="post">
                <p>
                    <label for="fpw_username">Email (name@firma.ch):</label>
                    <input type="text" id="fpw_username" autocomplete="on" name="_username" required autofocus />
                </p>
                <p>
                <label for="fpw_password">Passwort:</label>
                <input type="password"
                           id="fpw_password"
                           autocomplete="on"
                           name="_password"
                           onkeypress="capslock(event)"
                           required />
                <p>
                    <button type="submit" class="loginbutton" id="fpm_login">Anmelden</button>
                    <span id="divCapslock" style="visibility:hidden; color:red;" >
                        <img src="{{ asset('images/warning.png') }}" alt="Warnung" />
                        Feststelltaste ist aktiviert!
                    </span>
                </p>
                <p>
                    <small>Benutzernamen und Passwörter werden durch die Geschäftsleitungen der Tixi Betriebe (Mandant)
                    an berechtigte Mitarbeiter vergeben.</small>
                </p>
                <p>
                    <small>Alle personenbezogene Daten, in der iTixi Applikation, müssen als vertraulich behandelt werden
                    (Bundesgesetz über den Datenschutz (DSG)).</small>
                </p>
            </form>
        </section>
    </div>

    <script language="Javascript">
        function capslock(e){
            kc = e.keyCode?e.keyCode:e.which;
            sk = e.shiftKey?e.shiftKey:((kc == 16)?true:false);
            if(((kc >= 65 && kc <= 90) && !sk)||((kc >= 97 && kc <= 122) && sk))
                document.getElementById('divCapslock').style.visibility = 'visible';
            else
                document.getElementById('divCapslock').style.visibility = 'hidden';
        }
    </script>
{% endblock %}

