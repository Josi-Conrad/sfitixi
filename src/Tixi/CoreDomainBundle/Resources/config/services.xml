<?xml version="1.0" ?>

<container xmlns="http://symfony.com/schema/dic/services"
           xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
           xsi:schemaLocation="http://symfony.com/schema/dic/services http://symfony.com/schema/dic/services/services-1.0.xsd">


    <parameters>
        <parameter key="tixi_coredomain.fgea_repository.doctrine.class">Tixi\CoreDomainBundle\Repository\Shared\FastGenericEntityAccessorRepositoryDoctrine</parameter>
        <parameter key="absent.doctrine.entity">Tixi\CoreDomain\Absent</parameter>
        <parameter key="absent_repository.doctrine.class">Tixi\CoreDomainBundle\Repository\AbsentRepositoryDoctrine</parameter>
        <parameter key="address.doctrine.entity">Tixi\CoreDomain\Address</parameter>
        <parameter key="address_repository.doctrine.class">Tixi\CoreDomainBundle\Repository\AddressRepositoryDoctrine</parameter>
        <parameter key="driver.doctrine.entity">Tixi\CoreDomain\Driver</parameter>
        <parameter key="driver_repository.doctrine.class">Tixi\CoreDomainBundle\Repository\DriverRepositoryDoctrine</parameter>
        <parameter key="drivercategory.doctrine.entity">Tixi\CoreDomain\DriverCategory</parameter>
        <parameter key="drivercategory_repository.doctrine.class">Tixi\CoreDomainBundle\Repository\DriverCategoryRepositoryDoctrine</parameter>
        <parameter key="handicap.doctrine.entity">Tixi\CoreDomain\Handicap</parameter>
        <parameter key="handicap_repository.doctrine.class">Tixi\CoreDomainBundle\Repository\HandicapRepositoryDoctrine</parameter>
        <parameter key="insurance.doctrine.entity">Tixi\CoreDomain\Insurance</parameter>
        <parameter key="insurance_repository.doctrine.class">Tixi\CoreDomainBundle\Repository\InsuranceRepositoryDoctrine</parameter>
        <parameter key="passenger.doctrine.entity">Tixi\CoreDomain\Passenger</parameter>
        <parameter key="passenger_repository.doctrine.class">Tixi\CoreDomainBundle\Repository\PassengerRepositoryDoctrine</parameter>
        <parameter key="person.doctrine.entity">Tixi\CoreDomain\Person</parameter>
        <parameter key="person_repository.doctrine.class">Tixi\CoreDomainBundle\Repository\PersonRepositoryDoctrine</parameter>
        <parameter key="poi.doctrine.entity">Tixi\CoreDomain\POI</parameter>
        <parameter key="poi_repository.doctrine.class">Tixi\CoreDomainBundle\Repository\POIRepositoryDoctrine</parameter>
        <parameter key="poikeyword.doctrine.entity">Tixi\CoreDomain\POIKeyword</parameter>
        <parameter key="poikeyword_repository.doctrine.class">Tixi\CoreDomainBundle\Repository\POIKeywordRepositoryDoctrine</parameter>
        <parameter key="serviceplan.doctrine.entity">Tixi\CoreDomain\ServicePlan</parameter>
        <parameter key="serviceplan_repository.doctrine.class">Tixi\CoreDomainBundle\Repository\ServicePlanRepositoryDoctrine</parameter>
        <parameter key="vehicle.doctrine.entity">Tixi\CoreDomain\Vehicle</parameter>
        <parameter key="vehicle_repository.doctrine.class">Tixi\CoreDomainBundle\Repository\VehicleRepositoryDoctrine</parameter>
        <parameter key="vehiclecategory.doctrine.entity">Tixi\CoreDomain\VehicleCategory</parameter>
        <parameter key="vehiclecategory_repository.doctrine.class">Tixi\CoreDomainBundle\Repository\VehicleCategoryRepositoryDoctrine</parameter>
        <parameter key="vehicledepot.doctrine.entity">Tixi\CoreDomain\VehicleDepot</parameter>
        <parameter key="vehicledepot_repository.doctrine.class">Tixi\CoreDomainBundle\Repository\VehicleDepotRepositoryDoctrine</parameter>
        <parameter key="bankholiday.doctrine.entity">Tixi\CoreDomain\BankHoliday</parameter>
        <parameter key="bankholiday_repository.doctrine.class">Tixi\CoreDomainBundle\Repository\BankHolidayRepository</parameter>
        <parameter key="route.doctrine.entity">Tixi\CoreDomain\Dispo\Route</parameter>
        <parameter key="route_repository.doctrine.class">Tixi\CoreDomainBundle\Repository\Dispo\RouteRepositoryDoctrine</parameter>
        <parameter key="shifttype.doctrine.entity">Tixi\CoreDomain\Dispo\ShiftType</parameter>
        <parameter key="shifttype_repository.doctrine.class">Tixi\CoreDomainBundle\Repository\Dispo\ShiftTypeRepositoryDoctrine</parameter>
        <parameter key="repeateddrivingassertionplan.doctrine.entity">Tixi\CoreDomain\Dispo\RepeatedDrivingAssertionPlan</parameter>
        <parameter key="repeateddrivingassertionplan_repository.doctrine.class">Tixi\CoreDomainBundle\Repository\Dispo\RepeatedDrivingAssertionPlanRepositoryDoctrine</parameter>
        <parameter key="repeateddrivingassertion.doctrine.entity">Tixi\CoreDomain\Dispo\RepeatedDrivingAssertion</parameter>
        <parameter key="repeateddrivingassertion_repository.doctrine.class">Tixi\CoreDomainBundle\Repository\Dispo\RepeatedDrivingAssertionRepositoryDoctrine</parameter>

    </parameters>

    <services>
        <!-- Listeners -->
        <service id="doctrine_flush_listener" class="Tixi\CoreDomainBundle\Listener\EntityChangeListener">
            <argument type="service" id="service_container" />
            <tag name="monolog.logger" channel="entity_channel" />
            <tag name="doctrine.event_listener" event="postUpdate" connection="tixi" />
            <tag name="doctrine.event_listener" event="postPersist" connection="tixi" />
            <tag name="doctrine.event_listener" event="postRemove" connection="tixi" />
        </service>

        <!-- Repositories -->
        <service id="entity_manager" alias="doctrine.orm.entity_manager"></service>

        <service id="tixi_coredomain.fgea_repository" class="%tixi_coredomain.fgea_repository.doctrine.class%">
            <call method="setEntityManager">
                <argument type="service" id="entity_manager" />
            </call>
        </service>

        <service id="absent_repository" alias="absent_repository.doctrine"></service>
        <service id="absent_repository.doctrine" class="%absent_repository.doctrine.class%" factory-service="doctrine" factory-method="getrepository">
            <argument type="string">%absent.doctrine.entity%</argument>
        </service>

        <service id="address_repository" alias="address_repository.doctrine"></service>
        <service id="address_repository.doctrine" class="%address_repository.doctrine.class%" factory-service="doctrine" factory-method="getrepository">
            <argument type="string">%address.doctrine.entity%</argument>
        </service>

        <service id="driver_repository" alias="driver_repository.doctrine"></service>
        <service id="driver_repository.doctrine" class="%driver_repository.doctrine.class%" factory-service="doctrine" factory-method="getrepository">
            <argument type="string">%driver.doctrine.entity%</argument>
        </service>

        <service id="drivercategory_repository" alias="drivercategory_repository.doctrine"></service>
        <service id="drivercategory_repository.doctrine" class="%drivercategory_repository.doctrine.class%" factory-service="doctrine" factory-method="getrepository">
            <argument type="string">%drivercategory.doctrine.entity%</argument>
        </service>

        <service id="handicap_repository" alias="handicap_repository.doctrine"></service>
        <service id="handicap_repository.doctrine" class="%handicap_repository.doctrine.class%" factory-service="doctrine" factory-method="getrepository">
            <argument type="string">%handicap.doctrine.entity%</argument>
        </service>

        <service id="insurance_repository" alias="insurance_repository.doctrine"></service>
        <service id="insurance_repository.doctrine" class="%insurance_repository.doctrine.class%" factory-service="doctrine" factory-method="getrepository">
            <argument type="string">%insurance.doctrine.entity%</argument>
        </service>

        <service id="passenger_repository" alias="passenger_repository.doctrine"></service>
        <service id="passenger_repository.doctrine" class="%passenger_repository.doctrine.class%" factory-service="doctrine" factory-method="getrepository">
            <argument type="string">%passenger.doctrine.entity%</argument>
        </service>

        <service id="person_repository" alias="person_repository.doctrine"></service>
        <service id="person_repository.doctrine" class="%person_repository.doctrine.class%" factory-service="doctrine" factory-method="getrepository">
            <argument type="string">%person.doctrine.entity%</argument>
        </service>

        <service id="poi_repository" alias="poi_repository.doctrine"></service>
        <service id="poi_repository.doctrine" class="%poi_repository.doctrine.class%" factory-service="doctrine" factory-method="getrepository">
            <argument type="string">%poi.doctrine.entity%</argument>
        </service>

        <service id="poikeyword_repository" alias="poikeyword_repository.doctrine"></service>
        <service id="poikeyword_repository.doctrine" class="%poikeyword_repository.doctrine.class%" factory-service="doctrine" factory-method="getrepository">
            <argument type="string">%poikeyword.doctrine.entity%</argument>
        </service>

        <service id="serviceplan_repository" alias="serviceplan_repository.doctrine"></service>
        <service id="serviceplan_repository.doctrine" class="%serviceplan_repository.doctrine.class%" factory-service="doctrine" factory-method="getrepository">
            <argument type="string">%serviceplan.doctrine.entity%</argument>
        </service>

        <service id="vehicle_repository" alias="vehicle_repository.doctrine"></service>
        <service id="vehicle_repository.doctrine" class="%vehicle_repository.doctrine.class%" factory-service="doctrine" factory-method="getrepository">
            <argument type="string">%vehicle.doctrine.entity%</argument>
        </service>

        <service id="vehiclecategory_repository" alias="vehiclecategory_repository.doctrine"></service>
        <service id="vehiclecategory_repository.doctrine" class="%vehiclecategory_repository.doctrine.class%" factory-service="doctrine" factory-method="getrepository">
            <argument type="string">%vehiclecategory.doctrine.entity%</argument>
        </service>

        <service id="vehicledepot_repository" alias="vehicledepot_repository.doctrine"></service>
        <service id="vehicledepot_repository.doctrine" class="%vehicledepot_repository.doctrine.class%" factory-service="doctrine" factory-method="getrepository">
            <argument type="string">%vehicledepot.doctrine.entity%</argument>
        </service>

        <service id="route_repository" alias="route_repository.doctrine"></service>
        <service id="route_repository.doctrine" class="%route_repository.doctrine.class%" factory-service="doctrine" factory-method="getrepository">
            <argument type="string">%route.doctrine.entity%</argument>
        </service>

        <service id="shifttype_repository" alias="shifttype_repository.doctrine"></service>
        <service id="shifttype_repository.doctrine" class="%shifttype_repository.doctrine.class%" factory-service="doctrine" factory-method="getrepository">
            <argument type="string">%shifttype.doctrine.entity%</argument>
        </service>

        <service id="repeateddrivingassertionplan_repository" alias="repeateddrivingassertionplan_repository.doctrine"></service>
        <service id="repeateddrivingassertionplan_repository.doctrine" class="%repeateddrivingassertionplan_repository.doctrine.class%" factory-service="doctrine" factory-method="getrepository">
            <argument type="string">%repeateddrivingassertionplan.doctrine.entity%</argument>
        </service>

        <service id="repeateddrivingassertion_repository" alias="repeateddrivingassertion_repository.doctrine"></service>
        <service id="repeateddrivingassertion_repository.doctrine" class="%repeateddrivingassertion_repository.doctrine.class%" factory-service="doctrine" factory-method="getrepository">
            <argument type="string">%repeateddrivingassertion.doctrine.entity%</argument>
        </service>

        <service id="bankholiday_repository" alias="bankholiday_repository.doctrine"></service>
        <service id="bankholiday_repository.doctrine" class="%bankholiday_repository.doctrine.class%" factory-service="doctrine" factory-method="getrepository">
            <argument type="string">%bankholiday.doctrine.entity%</argument>
        </service>
    </services>

</container>
